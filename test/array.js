var test = require('tape')
var smooth = require('../')

test('vec3', function (t) {
  var state = smooth({ xs: [0,0,0] })
  t.deepEqual(state.get('xs', 1000.00), [0,0,0])
  t.deepEqual(state.get('xs', 1000.25), [0,0,0])
  t.deepEqual(state.get('xs', 1000.50), [0,0,0])
  t.deepEqual(state.get('xs', 1000.75), [0,0,0])
  t.deepEqual(state.get('xs', 1001.00), [0,0,0])
  state.set('xs', { value: [1,10,100], time: 1 })
  t.deepEqual(state.get('xs', 1001.00), [0,0,0])
  t.deepEqual(state.get('xs', 1001.25), [0.25,2.5,25])
  t.deepEqual(state.get('xs', 1001.50), [0.5,5,50])
  t.deepEqual(state.get('xs', 1001.75), [0.75,7.5,75])
  t.deepEqual(state.get('xs', 1002.00), [1,10,100])
  t.deepEqual(state.get('xs', 1002.25), [1,10,100])
  t.deepEqual(state.get('xs', 1002.50), [1,10,100])
  t.deepEqual(state.get('xs', 1002.75), [1,10,100])
  t.deepEqual(state.get('xs', 1003.00), [1,10,100])
  state.set('xs', { value: [5,20,50], time: 2 })
  t.deepEqual(state.get('xs', 1003.00), [1,10,100])
  t.deepEqual(state.get('xs', 1003.25), [1.5,11.25,93.75])
  t.deepEqual(state.get('xs', 1003.50), [2,12.5,87.5])
  t.deepEqual(state.get('xs', 1003.75), [2.5,13.75,81.25])
  t.deepEqual(state.get('xs', 1004.00), [3,15,75])
  state.set('xs', { value: [4,16,65], time: 2 })
  t.deepEqual(state.get('xs', 1004.00), [3,15,75])
  t.deepEqual(state.get('xs', 1004.25), [3.125,15.125,73.75])
  t.deepEqual(state.get('xs', 1004.50), [3.25,15.25,72.5])
  t.deepEqual(state.get('xs', 1004.75), [3.375,15.375,71.25])
  t.deepEqual(state.get('xs', 1005.00), [3.5,15.5,70])
  t.end()
})
